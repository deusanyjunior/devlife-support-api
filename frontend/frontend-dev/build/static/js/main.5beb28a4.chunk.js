(this["webpackJsonpfrontend-dev"]=this["webpackJsonpfrontend-dev"]||[]).push([[0],{101:function(e){e.exports=JSON.parse('{"Username":"Username","Password":"Password","Type username":"Enter the username","username is a required field":"Required","password is a required field":"Required","Invalid credentials":"Wrong username or password"}')},102:function(e){e.exports=JSON.parse('{"Username":"Usu\xe1rio","Password":"Senha","Type username":"Digite o nome de usu\xe1rio","Student Dashboard":"Dashboard do Aluno","Instructor Dashboard":"Dashboard do Professor","Sign in":"Entrar","username is a required field":"Campo obrigat\xf3rio","password is a required field":"Campo obrigat\xf3rio","Invalid credentials":"Usu\xe1rio ou senha inv\xe1lidos","Logout":"Sair"}')},108:function(e,t,n){},236:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(92),i=n.n(s),c=(n(108),n(16)),o=n(7),l=n(22),u=n(2),d=n(55),j=n.n(d),b="devlife-user-data",p=function(e){e?localStorage.setItem(b,JSON.stringify(e)):localStorage.removeItem(b)},h=n(1),m=Object(r.createContext)({user:null,putUser:function(){},removeUser:function(){}}),O=function(){var e=Object(r.useContext)(m);return{user:e.user,putUser:e.putUser,removeUser:e.removeUser}},f=function(e){var t=e.children,n=Object(r.useState)(null),a=Object(o.a)(n,2),s=a[0],i=a[1],c=function(e){p(e),i(e)},l=function(){p(null),i(null)},u=Object(r.useMemo)((function(){return{user:s,putUser:c,removeUser:l}}),[s]);return Object(r.useEffect)((function(){if(!s){var e=function(){var e=localStorage.getItem(b);return e?JSON.parse(e):null}();e&&c(e)}}),[s]),Object(h.jsx)(m.Provider,{value:{user:u.user,putUser:u.putUser,removeUser:u.removeUser},children:t})},x=n(240),v=function(e){var t=e.children;return Object(h.jsx)("div",{className:"mx-4",children:t})},g=function(e){var t=e.children,n=e.className;return Object(h.jsx)("h1",{className:"".concat(n||""," text-4xl leading-loose"),children:t})},N=function(e){var t=e.onClick,n=e.variant,r=e.children,a=e.type,s=e.disabled,i=e.className,c={primary:s?"bg-gray-300 text-gray-500 cursor-default":"bg-primary hover:bg-primary-dark text-white",secondary:s?"bg-gray-300 text-gray-500 cursor-default":"bg-secondary hover:bg-secondary-dark text-white",hidden:s?"bg-transparent text-gray-500 cursor-default":"bg-transparent"}[n];return Object(h.jsx)("button",{className:"".concat(i," ").concat(c," font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline flex justify-center items-center"),onClick:t,type:a,disabled:s,children:r})};N.defaultProps={className:"",variant:"primary",type:"button"};var y=N,S=function(){var e=Object(x.a)().t,t=O(),n=t.user,r=t.removeUser;return Object(h.jsxs)(h.Fragment,{children:[!n&&Object(h.jsx)(l.b,{to:P.LOGIN,children:e("Login")}),!!n&&Object(h.jsx)(y,{variant:"hidden",onClick:r,children:e("Logout")})]})},I=function(){var e=Object(x.a)().t,t=O().user;return Object(h.jsx)("nav",{className:"py-2 px-4 bg-primary text-white",children:Object(h.jsxs)("ul",{className:"flex items-center",children:[Object(h.jsx)("li",{className:"uppercase font-bold",children:Object(h.jsx)(l.b,{to:"/",children:e("Developer Life")})}),Z.map((function(n){var r=Y[n];if(r.permissionTest&&!r.permissionTest(t))return null;var a=r.title;return Object(h.jsx)("li",{className:"ml-4",children:Object(h.jsx)(l.b,{to:n,children:e(a)})},"nav__".concat(n))})),Object(h.jsx)("li",{className:"ml-auto",children:Object(h.jsx)(S,{})})]})})},T=function(){var e=Object(x.a)().t;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(I,{}),Object(h.jsx)(v,{children:Object(h.jsx)(g,{children:e("Instructor Dashboard")})})]})},w=n(34),C=n(20),U=n(103),_=function(e){var t=e.htmlFor,n=e.children;return Object(h.jsx)("label",{htmlFor:t,className:"block text-gray-700 text-sm font-bold mb-1",children:n})},L=function(e){var t=e.children;return Object(h.jsx)("p",{className:"text-red-500 text-xs italic",children:t})},D=["error","label","placeholder","inputId","name","type"],k=Object(r.forwardRef)((function(e,t){var n=e.error,r=e.label,a=e.placeholder,s=e.inputId,i=e.name,o=e.type,l=Object(w.a)(e,D);return Object(h.jsxs)("div",{className:"mb-4",children:[r&&Object(h.jsx)(_,{children:r}),Object(h.jsx)("input",Object(c.a)({className:"appearance-none border ".concat(n?"border-red-500":"border-gray-300"," rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"),id:s,type:o,name:i,ref:t,placeholder:a||""},l)),n&&Object(h.jsx)(L,{children:n})]})}));k.defaultProps={type:"text"};var E=k,F=function(e){return Object(h.jsx)("form",Object(c.a)({},e))};F.Label=_,F.TextInput=E;var P,R=F,M=n(45),q=M.a().shape({username:M.b().required(),password:M.b().required()}),H=n(239),J=n(27),G=n.n(J),A={initial:{transition:{staggerChildren:.2}},animate:{transition:{staggerChildren:.2}}},V={initial:{y:"0%"},animate:{y:"100%"}},B={duration:.5,repeat:1/0,repeatType:"reverse",ease:"easeInOut"},z=function(e){var t=e.light,n=e.className,r="".concat(G.a.loadingDot," ").concat(t?G.a.light:G.a.dark);return Object(h.jsx)("div",{className:"".concat(n||""," ").concat(G.a.animationContainer),children:Object(h.jsxs)(H.a.div,{className:G.a.dotContainer,variants:A,initial:"initial",animate:"animate",children:[Object(h.jsx)(H.a.span,{className:r,variants:V,transition:B}),Object(h.jsx)(H.a.span,{className:r,variants:V,transition:B}),Object(h.jsx)(H.a.span,{className:r,variants:V,transition:B})]})})},K=["onChange"],Q=["onChange"],W=function(){var e,t,n=Object(r.useState)(!1),a=Object(o.a)(n,2),s=a[0],i=a[1],l=Object(r.useState)(!1),d=Object(o.a)(l,2),b=d[0],p=d[1],m=Object(x.a)().t,f=O().putUser,v=Object(u.g)(),g=new URLSearchParams(Object(u.h)().search),N=Object(C.d)({resolver:Object(U.a)(q)}),S=N.register,I=N.handleSubmit,T=N.formState.errors,_=S("username"),D=_.onChange,k=Object(w.a)(_,K),E=S("password"),F=E.onChange,P=Object(w.a)(E,Q);return Object(h.jsx)("div",{className:"w-full min-h-screen px-2 flex flex-col justify-center",children:Object(h.jsxs)("div",{className:"max-w-xs mx-auto rounded shadow",children:[Object(h.jsx)("h1",{className:"text-3xl uppercase px-6 py-4 bg-primary text-white rounded-t text-center",children:m("Developer Life")}),Object(h.jsxs)(R,{className:"px-4 py-4",onSubmit:I((function(e){var t,n;p(!0),(t=e.username,n=e.password,j.a.post("/api/auth/login/",{username:t,password:n}).then((function(e){return e.data.key})).then((function(e){return j.a.get("/api/auth/user/",{headers:{Authorization:"Token ".concat(e)}}).then((function(e){return e.data})).then((function(t){return{pk:t.pk,username:t.username,email:t.email,firstName:t.first_name,lastName:t.last_name,isStaff:t.is_staff,token:e}})).catch((function(){return null}))})).catch((function(){return null}))).then((function(e){e?(f(e),v.replace(g.get("next")||"/")):i(!0)})).finally((function(){return p(!1)}))})),children:[Object(h.jsx)(R.TextInput,Object(c.a)(Object(c.a)({label:m("Username"),inputId:"username",placeholder:m("Type username")},k),{},{onChange:function(e){i(!1),D(e)},error:m((null===T||void 0===T||null===(e=T.username)||void 0===e?void 0:e.message)||"")})),Object(h.jsx)(R.TextInput,Object(c.a)(Object(c.a)({label:m("Password"),inputId:"password",type:"password",placeholder:m("Password")},P),{},{onChange:function(e){i(!1),F(e)},error:m((null===T||void 0===T||null===(t=T.password)||void 0===t?void 0:t.message)||"")})),s&&Object(h.jsx)(L,{children:m("Invalid credentials")}),Object(h.jsx)(y,{className:"mt-2 w-full",type:"submit",disabled:b,children:m("Sign in")}),b&&Object(h.jsx)("div",{className:"w-full flex justify-center",children:Object(h.jsx)(z,{className:"text-xs"})})]})]})})},X=function(){var e=Object(x.a)().t,t=O().user;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(I,{}),Object(h.jsxs)(v,{children:[Object(h.jsx)(g,{children:e("Student Dashboard")}),null===t||void 0===t?void 0:t.firstName," ",(null===t||void 0===t?void 0:t.isStaff)?"STAFF":"NOT STAFF"]})]})};!function(e){e.STUDENT_HOME="/",e.INSTRUCTOR_HOME="/instructor",e.LOGIN="/login"}(P||(P={}));var Y={};Y[P.STUDENT_HOME]={title:"Student Dashboard",props:{path:P.STUDENT_HOME,exact:!0,component:X}},Y[P.INSTRUCTOR_HOME]={title:"Instructor Dashboard",permissionTest:function(e){return!!(null===e||void 0===e?void 0:e.isStaff)},props:{path:P.INSTRUCTOR_HOME,exact:!0,component:T}},Y[P.LOGIN]={title:"Login",props:{path:P.LOGIN,exact:!0,component:W}};var Z=[P.STUDENT_HOME,P.INSTRUCTOR_HOME],$=function(){var e=O().user,t=Object(u.h)();return e||t.pathname===P.LOGIN?null:Object(h.jsx)(u.a,{to:{pathname:P.LOGIN,search:"?next=".concat(t.pathname)}})},ee=function(e){var t=e.children;return Object(h.jsx)(f,{children:t})},te=n(59),ne=n(35),re=n(101),ae=n(102);te.a.use(ne.e).init({resources:{en:{translation:re},pt:{translation:ae}},lng:"pt",fallbackLng:"pt",interpolation:{escapeValue:!1}});te.a;var se=function(){return Object(h.jsx)(ee,{children:Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(l.a,{children:[Object(h.jsx)($,{}),Object(h.jsx)("div",{children:Object(h.jsx)(u.d,{children:Object.entries(Y).map((function(e,t){var n=Object(o.a)(e,2),r=(n[0],n[1].props);return Object(h.jsx)(u.b,Object(c.a)({},r),"route__".concat(t))}))})})]})})})},ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,241)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),s(e),i(e)}))};i.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(se,{})}),document.getElementById("root")),ie()},27:function(e,t,n){e.exports={animationContainer:"LoadingIndicator_animationContainer__31NJQ",loadingDot:"LoadingIndicator_loadingDot__9elUF",dark:"LoadingIndicator_dark__VNh81",light:"LoadingIndicator_light__1lhVC",dotContainer:"LoadingIndicator_dotContainer__3C8Kq"}}},[[236,1,2]]]);
//# sourceMappingURL=main.5beb28a4.chunk.js.map