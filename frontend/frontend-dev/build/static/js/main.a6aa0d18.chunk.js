(this["webpackJsonpfrontend-dev"]=this["webpackJsonpfrontend-dev"]||[]).push([[0],{161:function(e,t,n){e.exports={separator:"Separator_separator__e39e6"}},163:function(e){e.exports=JSON.parse('{"Username":"Username","Password":"Password","Type username":"Enter the username","username is a required field":"Required","password is a required field":"Required","Invalid password reset link":"Invalid password reset link. Request a new link to reset your password.","Invalid credentials":"Wrong username or password","not-admin":"You don\'t have permission to access this page. Please log in with an authorized user.","submissions sent before":"{{users}} students submitted {{total}} answers before {{lastUpdate}}"}')},164:function(e){e.exports=JSON.parse('{"Username":"Usu\xe1rio","Password":"Senha","Repeat password":"Confirmar senha","Set password":"Definir senha","Reset password":"Redefinir senha","Passwords must match":"As senhas devem ser iguais","Invalid password reset link":"Link de redefini\xe7\xe3o de senha inv\xe1lido. Solicite um novo link para redefinir sua senha.","Type username":"Nome de usu\xe1rio","Student Dashboard":"Dashboard do Aluno","Instructor Dashboard":"Dashboard do Professor","Sign in":"Entrar","Sign up":"Criar conta","Ask the instructor to sign you up":"Se n\xe3o tiver recebido um e-mail com o link de cadastro, pe\xe7a para o seu professor envi\xe1-lo novamente.","username is a required field":"Campo obrigat\xf3rio","password is a required field":"Campo obrigat\xf3rio","Invalid credentials":"Usu\xe1rio ou senha inv\xe1lidos","Logout":"Sair","not-admin":"Voc\xea n\xe3o tem permiss\xe3o para acessar esta p\xe1gina. Por favor, entre com um usu\xe1rio autorizado.","submissions sent before":"{{users}} alunos enviaram {{total}} respostas at\xe9 {{lastUpdate}}","Dashboard":"Acompanhamento","Exercises":"Exerc\xedcios","Topic":"Aula","Content":"Conte\xfado","Results":"Resultados","Last attempt":"\xdaltima tentativa","Max points":"Pontua\xe7\xe3o","Attempts":"Tentativas","Tests passing":"Testes passando","Your solution":"Sua solu\xe7\xe3o","or":"ou"}')},170:function(e,t,n){},45:function(e,t,n){e.exports={animationContainer:"LoadingIndicator_animationContainer__31NJQ",loadingDot:"LoadingIndicator_loadingDot__9elUF",dark:"LoadingIndicator_dark__VNh81",light:"LoadingIndicator_light__1lhVC",dotContainer:"LoadingIndicator_dotContainer__3C8Kq"}},586:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(147),c=n.n(s),o=n(30),i=(n(170),n(14)),l=n(4),d=n(9),u=n(12),j=n.n(u),b=n(16),m=n(32),p=n.n(m),f=function(){var e=Object(b.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.a.post("/api/auth/login/",{username:t,password:n}).then((function(e){return e.data.key})).then(function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.a.get("/api/auth/user/",{headers:{Authorization:"Token ".concat(t)}}).then((function(e){return e.data})).then((function(e){return{pk:e.pk,username:e.username,email:e.email,firstName:e.first_name,lastName:e.last_name,isStaff:e.is_staff,token:t}})).catch((function(){return null})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){return null})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(b.a)(j.a.mark((function e(t,n,r,a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.a.post("/api/auth/password/reset/confirm/",{uid:t,token:n,new_password1:r,new_password2:a}).then((function(){return!0})).catch((function(){return!1})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),O="devlife-user-data",x=function(e){e?localStorage.setItem(O,JSON.stringify(e)):localStorage.removeItem(O)},v=function(){var e=localStorage.getItem(O);return e?JSON.parse(e):null},g=n(1),w=Object(r.createContext)({user:null,putUser:function(){},removeUser:function(){}}),y=function(){var e=Object(r.useContext)(w);return{user:e.user,putUser:e.putUser,removeUser:e.removeUser}},N=function(e){var t=e.children,n=Object(r.useState)(v()),a=Object(l.a)(n,2),s=a[0],c=a[1],o=function(e){x(e),c(e)},i=function(){x(null),c(null)},d=Object(r.useMemo)((function(){return{user:s,putUser:o,removeUser:i}}),[s]);return Object(r.useEffect)((function(){if(!s){var e=v();e&&o(e)}}),[s]),Object(g.jsx)(w.Provider,{value:{user:d.user,putUser:d.putUser,removeUser:d.removeUser},children:t})},S=n(591),k=function(e){var t=e.className,n=e.children;return Object(g.jsx)("div",{className:"mx-4 ".concat(t),children:n})},_=function(){var e=y().user,t=Object(d.h)();return e&&!e.isStaff?Object(g.jsx)(d.a,{to:{pathname:Se.LOGIN,search:"?next=".concat(t.pathname,"&reason=not-admin")}}):null},C=function(e){var t=e.variant,n=e.children,r=e.className,a=5===t?"h5":2===t?"h2":"h1",s=5===t?"":2===t?"text-2xl":"text-4xl",c=!r||r.indexOf("mt-")<0&&r.indexOf("my-")<0?"mt-4":"";return Object(g.jsx)(a,{className:"".concat(r||""," uppercase font-bold ").concat(s," leading-none tracking-wide ").concat(c),children:n})};C.defaultProps={variant:1};var R=C;function T(e,t){for(var n=0,r=Object.entries(t);n<r.length;n++){var a=Object(l.a)(r[n],2),s=a[0],c=a[1],o=new RegExp(":".concat(s),"g");e=e.replace(o,String(c))}return e}var E=function(e,t,n,a){var s=Object(r.useState)(t),c=Object(l.a)(s,2),o=c[0],i=c[1],d=Object(r.useState)(),u=Object(l.a)(d,2),j=u[0],b=u[1],m=Object(r.useState)(!0),f=Object(l.a)(m,2),h=f[0],O=f[1],x=Object(r.useState)(!1),v=Object(l.a)(x,2),g=v[0],w=v[1],y=Object(r.useCallback)((function(){w(!0)}),[w]);return Object(r.useEffect)((function(){var t=!0;return a&&!g||(g&&w(!1),function(){var r={};n&&(r.headers={Authorization:"Token ".concat(n)}),O(!0),b(void 0),p.a.get(e,r).then((function(e){return e.data})).then((function(e){return t&&i(e)})).catch((function(e){return t&&b(e)})).finally((function(){return t&&O(!1)}))}()),function(){t=!1}}),[e,n,a,g]),{data:o,error:j,loading:h,refresh:y}},I=Object(r.createContext)({});function D(e){var t=e.children,n=Object(r.useState)(null),a=Object(l.a)(n,2),s=a[0],c=a[1],o=y().user,i=Object(r.useState)({}),d=Object(l.a)(i,2),u=d[0],j=d[1],b=(null===o||void 0===o?void 0:o.token)||"",m=function(e,t){var n=E(T("/api/offerings/:offering/exercises/",{offering:String(e)}),[],t);return{exerciseList:n.data,error:n.error,loading:n.loading,refresh:n.refresh}}(1,b).exerciseList;Object(r.useEffect)((function(){j(function(e){var t={};return e.forEach((function(e){var n=e.topic,r=e.group;t[n]||(t[n]={}),t[n][r]||(t[n][r]=[]),t[n][r].push(e)})),t}(m))}),[m]);var p=function(e,t,n){var r=n?"?user=".concat(n):"",a=E("".concat(T("/api/offerings/:offering/summaries/",{offering:e})).concat(r),[],t);return{summaryList:a.data,error:a.error,loading:a.loading,refresh:a.refresh}}(1,b,null===o||void 0===o?void 0:o.pk),f=p.summaryList,h=p.loading,O=Object(r.useState)({}),x=Object(l.a)(O,2),v=x[0],w=x[1];return Object(r.useEffect)((function(){h||w(function(e){return Object.fromEntries(e.map((function(e){return[e.exercise,e]})))}(f))}),[f,h]),Object(g.jsx)(I.Provider,{value:{selectedData:s,summaryMap:v,summaryList:f,exerciseList:m,exerciseGroups:u,setSelectedData:c},children:t})}var L=n(13);function U(){var e=Object(r.useContext)(I);return{exerciseList:e.exerciseList,selectedData:e.selectedData,summaryMap:e.summaryMap,summaryList:e.summaryList,exerciseGroups:e.exerciseGroups,setSelectedData:e.setSelectedData}}var M=n(589),A=function(e){var t=e.className,n=e.progress,r=180*Math.PI;n<0&&(n=0),n>1&&(n=1);var a=110*Math.sqrt(2),s={start:{strokeDashoffset:r},progress:{strokeDashoffset:r*(1-n),transition:{duration:.5}}},c={start:{strokeDashoffset:a},progress:{strokeDashoffset:0,transition:{duration:.5,delay:.2}}};return Object(g.jsxs)("svg",{className:t||"",id:"svg",width:"200",height:"200",viewBox:"0 0 200 200",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[Object(g.jsx)("circle",{r:"90",cx:"100",cy:"100",fill:"transparent",stroke:"#cad8ca",strokeWidth:"20"}),Object(g.jsx)(M.a.circle,{r:"90",cx:"100",cy:"100",fill:"transparent",stroke:"#27A5A2",transform:"rotate(-90 100 100)",strokeWidth:"20",strokeDasharray:"".concat(r),strokeDashoffset:"".concat(r*(1-n)),variants:s,initial:"start",animate:"progress"}),1===n&&Object(g.jsx)(M.a.path,{d:"M45 95L85 135L155 65",fill:"transparent",stroke:"#27A5A2",strokeWidth:"20",strokeDasharray:"".concat(a),strokeDashoffset:"0",variants:c,initial:"start",animate:"progress"})]})};A.defaultProps={progress:1};var P=A,F=function(e){var t=e.options,n=e.onSelect,r=e.title,a=e.className,s=e.completionRates,c=e.selectedRow;return Object(g.jsxs)("div",{className:"flex flex-col border border-gray-200 py-2 pb-0 overflow-hidden h-full compact-scrollbar box-border ".concat(null!==a&&void 0!==a?a:""),children:[Object(g.jsx)(R,{variant:5,className:"px-4 mt-2",children:r}),Object(g.jsx)("div",{className:"flex flex-1 overflow-auto w-full ",children:Object(g.jsx)("ul",{className:"flex flex-col py-4 w-full min-w-max",children:t.map((function(e,r){return Object(g.jsxs)("li",{onClick:function(){return function(e){n&&n(t[e],e)}(r)},className:"flex items-center cursor-pointer px-4 py-1 w-auto ".concat(r===c?"bg-primary-50":""),children:[Object(g.jsx)("div",{className:"min-w-min mr-2",children:Object(g.jsx)(P,{className:"w-6 h-6",progress:s[e]})}),Object(g.jsx)("span",{className:"whitespace-nowrap",children:e})]},"option-".concat(e,"-").concat(r))}))})})]})},W=Object(r.memo)(F),z=p.a.create({baseURL:"/"});z.interceptors.request.use((function(e){var t=v();return t&&(e.headers=Object(i.a)(Object(i.a)({},e.headers),{},{Authorization:"Token ".concat(t.token)})),e}));var H=n(6),q=n(71);function G(e){var t={labels:e.options,datasets:[{data:e.numSelectedOptions,backgroundColor:["#ff638433","#76f25d33","#36a2eb33","#ffce5633","#765df233","#21fcf233","#ff9f4033"],borderColor:["#ff6384","#76f25d","#36a2eb","#ffce56","#765df2","#21fcf2","#ff9f40"],borderWidth:2}]};return Object(g.jsx)("div",{className:"w-64",children:Object(g.jsx)(q.b,{data:t,options:{maintainAspectRatio:!0}})})}var J=Object(r.memo)(G);function V(e){var t=e.data,n=e.header,r=e.className,a=n?Object.values(n):Object.keys(t[0]),s=n?t.map((function(e){return Object.keys(n).map((function(t){return e[t]}))})):t.map((function(e){return Object.values(e)}));return Object(g.jsx)("div",{className:"flex ".concat(null!==r&&void 0!==r?r:""),children:Object(g.jsx)("div",{className:"overflow-x-auto no-scrollbar max-w-full",children:Object(g.jsx)("div",{className:"align-middle inline-block",children:Object(g.jsx)("div",{className:"border-b border-gray-200 rounded overflow-hidden border",children:Object(g.jsxs)("table",{className:"divide-y divide-gray-200",children:[Object(g.jsx)("thead",{className:"bg-gray-50",children:Object(g.jsx)("tr",{children:a.map((function(e,t){return Object(g.jsx)("th",{className:"p-3",children:e},"header__"+t)}))})}),Object(g.jsx)("tbody",{className:"bg-white divide-y divide-gray-50",children:(s||[{}]).map((function(e,t){return Object(g.jsx)("tr",{className:t%2?"bg-gray-100":"bg-gray-50",children:e.map((function(e,n){return Object(g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:null!==e&&void 0!==e?e:"null"},"cell__".concat(n).concat(t))}))},"textAnswers__"+t)}))})]})})})})})}var B=Object(r.memo)(V);function Y(e){var t=e.testsAnswers,n=Object(S.a)().t,a=Object(r.useMemo)((function(){var e,n;return(null===(e=t[0])||void 0===e||null===(n=e.test_results)||void 0===n?void 0:n.num_choices)||0}),[t]),s=Object(r.useMemo)((function(){var e=Object(H.a)("ABCDEFGHIJKLMNOPQRSTUVWXYZ");e.length=a;var n=t.map((function(t){var n;return e[(null===t||void 0===t||null===(n=t.test_results)||void 0===n?void 0:n.choice)||0]})),r={};return e.forEach((function(e){r[e]=n.filter((function(t){return t===e})).length})),[e,Object.values(r)]}),[t,a]),c=Object(l.a)(s,2),o=c[0],i=c[1];return t.length?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("p",{children:[Object(g.jsxs)("b",{children:[n("Test answers"),":"]})," ",t.length]}),Object(g.jsxs)("div",{className:"flex flex-col w-full sm:flex-row",children:[Object(g.jsx)(J,{options:o,numSelectedOptions:i}),Object(g.jsx)(B,{className:"mt-4",data:t.map((function(e){return{timestamp:new Date(e.submission_date).toLocaleString(),user:e.user,choice:o[e.test_results.choice]}}))})]})]}):null}var Q=function(e){var t=e.onClick,n=e.variant,r=e.children,a=e.type,s=e.disabled,c=e.className,o={primary:s?"bg-gray-300 text-gray-500 cursor-default":"bg-primary hover:bg-primary-500 text-white",secondary:s?"bg-gray-300 text-gray-500 cursor-default":"bg-secondary hover:bg-secondary-500 text-white",hidden:s?"bg-transparent text-gray-500 cursor-default":"bg-transparent"}[n];return Object(g.jsx)("button",{className:"".concat(c," ").concat(o," font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline flex justify-center items-center"),onClick:t,type:a,disabled:s,children:r})};Q.defaultProps={className:"",variant:"primary",type:"button"};var K=Q,X=n(590),Z={'code[class*="language-"]':{color:"#76d9e6",MozTabSize:"2",OTabSize:"2",tabSize:"2",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",whiteSpace:"pre",wordWrap:"normal",fontFamily:"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace",fontSize:"14px",textShadow:"none"},'pre[class*="language-"]':{color:"#76d9e6",MozTabSize:"2",OTabSize:"2",tabSize:"2",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",whiteSpace:"pre",wordWrap:"normal",fontFamily:"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace",fontSize:"14px",textShadow:"none",background:"#2a2a2a",padding:"15px",borderRadius:"4px",border:"1px solid #e1e1e8",overflow:"auto",position:"relative"},'pre > code[class*="language-"]':{fontSize:"1em"},':not(pre) > code[class*="language-"]':{background:"#2a2a2a",padding:"0.15em 0.2em 0.05em",borderRadius:".3em",border:"0.13em solid #7a6652",boxShadow:"1px 1px 0.3em -0.1em #000 inset"},'pre[class*="language-"] code':{whiteSpace:"pre",display:"block"},namespace:{Opacity:".7"},comment:{color:"#6f705e"},prolog:{color:"#6f705e"},doctype:{color:"#6f705e"},cdata:{color:"#6f705e"},operator:{color:"#a77afe",fontWeight:"bold"},boolean:{color:"#a77afe"},number:{color:"#a77afe"},"attr-name":{color:"#e6d06c"},string:{color:"#e6d06c"},entity:{color:"#e6d06c",cursor:"help"},url:{color:"#e6d06c"},".language-css .token.string":{color:"#e6d06c"},".style .token.string":{color:"#e6d06c"},selector:{color:"#a6e22d"},inserted:{color:"#a6e22d"},atrule:{color:"#ef3b7d"},"attr-value":{color:"#ef3b7d"},keyword:{color:"#ef3b7d",fontWeight:"bold"},important:{color:"#ef3b7d",fontWeight:"bold"},deleted:{color:"#ef3b7d"},regex:{color:"#76d9e6"},statement:{color:"#76d9e6",fontWeight:"bold"},placeholder:{color:"#fff"},variable:{color:"#fff"},bold:{fontWeight:"bold"},punctuation:{color:"#bebec5"},italic:{fontStyle:"italic"},"code.language-markup":{color:"#f9f9f9"},"code.language-markup .token.tag":{color:"#ef3b7d"},"code.language-markup .token.attr-name":{color:"#a6e22d"},"code.language-markup .token.attr-value":{color:"#e6d06c"},"code.language-markup .token.style":{color:"#76d9e6"},"code.language-markup .token.script":{color:"#76d9e6"},"code.language-markup .token.script .token.keyword":{color:"#76d9e6"},'pre[class*="language-"][data-line]':{position:"relative",padding:"1em 0 1em 3em"},"pre[data-line] .line-highlight":{position:"absolute",left:"0",right:"0",padding:"0",marginTop:"1em",background:"rgba(255, 255, 255, 0.08)",pointerEvents:"none",lineHeight:"inherit",whiteSpace:"pre"},"pre[data-line] .line-highlight:before":{content:"attr(data-start)",position:"absolute",top:".4em",left:".6em",minWidth:"1em",padding:"0.2em 0.5em",backgroundColor:"rgba(255, 255, 255, 0.4)",color:"black",font:"bold 65%/1 sans-serif",height:"1em",lineHeight:"1em",textAlign:"center",borderRadius:"999px",textShadow:"none",boxShadow:"0 1px 1px rgba(255, 255, 255, 0.7)"},"pre[data-line] .line-highlight[data-end]:after":{content:"attr(data-end)",position:"absolute",top:"auto",left:".6em",minWidth:"1em",padding:"0.2em 0.5em",backgroundColor:"rgba(255, 255, 255, 0.4)",color:"black",font:"bold 65%/1 sans-serif",height:"1em",lineHeight:"1em",textAlign:"center",borderRadius:"999px",textShadow:"none",boxShadow:"0 1px 1px rgba(255, 255, 255, 0.7)",bottom:".4em"}};function $(e){var t=e.children,n=e.language,r=void 0===n?"python":n,a=e.className;return Object(g.jsx)("div",{className:"compact-scrollbar ".concat(null!==a&&void 0!==a?a:""),children:Object(g.jsx)(X.a,{language:r,style:Z,showLineNumbers:!0,wrapLines:!1,lineNumberStyle:{fontWeight:"bold",color:"#c0c0c050",padding:"0.25rem 0.5rem",marginLeft:"-0.5rem",userSelect:"none"},children:null===t||void 0===t?void 0:t.trim()})})}function ee(e){var t=e.codeAnswers,n=Object(S.a)().t,a=Object(r.useState)(),s=Object(l.a)(a,2),c=s[0],o=s[1];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("p",{children:[Object(g.jsxs)("b",{children:[n("Test answers"),":"]})," ",t.length]}),Object(g.jsxs)("div",{className:"flex flex-col w-full lg:flex-row py-4",children:[!!t.length&&Object(g.jsx)(B,{header:{timestamp:n("Submission time"),user:n("User"),test_results:n("Tests passing"),viewCode:""},data:t.map((function(e){var t=(null===c||void 0===c?void 0:c.pk)===e.pk;return Object(i.a)(Object(i.a)({},e),{},{test_results:e.test_results.passed,timestamp:new Date(e.submission_date).toLocaleString(),viewCode:Object(g.jsx)(K,{variant:t?"secondary":"primary",onClick:function(){var t,n;t=e.pk,n=e.student_input.code,o((function(e){return t===(null===e||void 0===e?void 0:e.pk)?void 0:{pk:t,text:n}}))},children:n(t?"Hide code":"View code")})})}))}),!!t.length&&!!c&&Object(g.jsx)($,{className:"flex-1 mt-2 lg:ml-4 lg:mt-0",children:c.text})]})]})}function te(e){var t=e.textAnswers,n=Object(S.a)().t;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("p",{children:[Object(g.jsxs)("b",{children:[n("Text answers"),":"]})," ",t.length]}),Object(g.jsx)(B,{className:"mt-4",header:{submission_date:n("Submission time"),user:n("User"),test_results:n("Answer")},data:t.map((function(e){return{test_results:e.test_results.text,user:e.user,submission_date:new Date(e.submission_date).toLocaleString()}}))})]})}function ne(e){var t,n,a=e.offering,s=Object(S.a)().t,c=U().selectedData,o=null===c||void 0===c?void 0:c.type,i=null===c||void 0===c?void 0:c.slug,d=Object(r.useState)([]),u=Object(l.a)(d,2),j=u[0],b=u[1],m="CODE"===o,p="QUIZ"===o,f="TEXT"===o;return t=function(e){void 0!==a&&void 0!==i&&z.get(T("/api/offerings/:offering/exercises/:slug/answers/",{offering:a,slug:i})).then((function(t){e.isMounted&&b(t.data||[])}))},n=[i],Object(r.useEffect)((function(){var e={isMounted:!0},n=t(e);return function(){e.isMounted=!1,"function"===typeof n&&n()}}),n),Object(g.jsxs)(k,{children:[Object(g.jsx)("div",{className:"mt-4 fit-content",children:Object(g.jsx)(R,{variant:5,children:i||""})}),Object(g.jsxs)("section",{className:"flex flex-col w-full",children:[Object(g.jsx)(R,{variant:5,className:"mb-2",children:s("Results")}),p&&Object(g.jsx)(Y,{testsAnswers:j}),m&&Object(g.jsx)(ee,{codeAnswers:j}),f&&Object(g.jsx)(te,{textAnswers:j})]})]})}var re=Object(r.memo)(ne),ae=function(e){var t,n,r=e.offering,a=e.summaryMap,s=e.exercise,c=Object(S.a)().t,o=y().user,i=a[null===s||void 0===s?void 0:s.pk],l=function(e,t,n,r){var a=E(T("/api/offerings/:offering/exercises/:exerciseSlug/answers/:answerId/",{offering:e,exerciseSlug:n,answerId:r}),null,t,!(n&&t&&void 0!==r&&void 0!==e));return{answer:a.data,error:a.error,loading:a.loading,refresh:a.refresh}}(r,(null===o||void 0===o?void 0:o.token)||"",null===s||void 0===s?void 0:s.slug,null===i||void 0===i?void 0:i.latest).answer;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(R,{variant:5,className:"px-4 mt-2",children:(null===s||void 0===s?void 0:s.slug)||""}),Object(g.jsxs)("div",{className:"px-4 mt-4 max-w-full",children:[Object(g.jsx)(K,{className:"uppercase tracking-wide",children:"Ver Exerc\xedcio"}),Object(g.jsxs)("section",{className:"mt-6",children:[Object(g.jsx)(R,{variant:5,children:c("Results")}),Object(g.jsxs)("div",{className:"flex flex-wrap mt-2",children:[Object(g.jsxs)("span",{className:"mr-8",children:[c("Max points"),":"," ",Object(g.jsxs)("strong",{className:"font-bold text-primary-500",children:[Math.round(1e4*((null===i||void 0===i?void 0:i.max_points)||0))/100,"%"]})]}),Object(g.jsxs)("span",{className:"mr-8",children:[c("Attempts"),":"," ",Object(g.jsx)("strong",{className:"font-bold",children:(null===i||void 0===i?void 0:i.answer_count)||0})]})]})]}),"CODE"===s.type&&Object(g.jsxs)("section",{className:"mt-6",children:[Object(g.jsx)("h6",{className:"font-bold",children:c("Last attempt")}),Object(g.jsx)("div",{className:"flex flex-wrap mt-2",children:Object(g.jsxs)("span",{className:"mr-8",children:[c("Tests passing"),":"," ",Object(g.jsx)("strong",{className:"font-bold",children:l&&l.test_results?null===(t=l.test_results)||void 0===t?void 0:t.passed:"0"})]})}),(null===l||void 0===l||null===(n=l.student_input)||void 0===n?void 0:n.code)&&Object(g.jsxs)("div",{className:"mt-4",children:[Object(g.jsxs)("strong",{className:"font-bold",children:[c("Your solution"),":"]}),Object(g.jsx)("div",{className:"text-white mt-2 box-border rounded overflow-auto no-scrollbar",children:Object(g.jsx)($,{children:l.student_input.code})})]})]})]})]})},se=function(e){var t=e.group,n=e.completionRates,r=Object.keys(t)[0];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(R,{variant:5,className:"px-4 mt-2",children:r}),Object(g.jsx)("div",{className:"px-4 mt-4",children:Object(g.jsx)(P,{progress:n[r]||0})})]})},ce=function(e){var t=e.topic,n=e.completionRates,r=Object.keys(t)[0];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(R,{variant:5,className:"px-4 mt-2",children:r}),Object(g.jsx)("div",{className:"px-4 mt-4",children:Object(g.jsx)(P,{progress:n[r]||0})})]})},oe=function(e,t,n,r){var a,s;if(!e)return null;if(e.slug)return Object(g.jsx)(ae,{offering:t,summaryMap:n,exercise:e});var c=Object.keys(e);if(c&&(null===(a=e[c[0]])||void 0===a?void 0:a.length))return Object(g.jsx)(se,{group:e,completionRates:r});var o=Object.keys(e[c[0]]);return c&&o&&(null===(s=e[c[0]][o[0]])||void 0===s?void 0:s.length)?Object(g.jsx)(ce,{topic:e,completionRates:r}):null},ie=function(e){var t=e.offering,n=e.completionRates,r=U(),a=r.summaryMap,s=r.selectedData;return Object(g.jsx)(g.Fragment,{children:oe(s,t,a,n)})},le=function(e,t){return Object.fromEntries(e.map((function(e){var n=t[e.pk];return[e.slug,n?n.max_points:0]})))},de=function(e,t){return Object.fromEntries(Object.keys(e).map((function(n){var r=Object.values(le(e[n],t));return[n,r.reduce((function(e,t){return e+t}),0)/r.length]})))},ue=function(e){var t=e.className,n=e.viewAsStaff,a=void 0!==n&&n,s=Object(S.a)().t,c=Object(r.useState)(""),o=Object(l.a)(c,2),i=o[0],d=o[1],u=Object(r.useState)(""),j=Object(l.a)(u,2),b=j[0],m=j[1],p=U(),f=p.summaryMap,h=p.exerciseGroups,O=p.setSelectedData,x=Object(r.useState)({}),v=Object(l.a)(x,2),w=v[0],y=v[1];Object(r.useEffect)((function(){y(function(e,t){return Object.assign.apply(Object,[{}].concat(Object(H.a)(Object.keys(e).map((function(n){var r=e[n],a=Object.keys(r).map((function(e){return r[e]})).reduce((function(e,t){return e||t?e?t?e.concat(t):e:t:[]}),[]);return de(Object(L.a)({},n,a),t)})))))}(h,f))}),[h,f]);var N=Object(r.useState)({}),k=Object(l.a)(N,2),_=k[0],C=k[1],R=Object(r.useState)({}),T=Object(l.a)(R,2),E=T[0],I=T[1];Object(r.useEffect)((function(){var e=i?h[i]:{};C(e),e&&I(de(e,f))}),[i,h,f]);var D=Object(r.useState)([]),M=Object(l.a)(D,2),A=M[0],P=M[1],F=Object(r.useState)({}),z=Object(l.a)(F,2),q=z[0],G=z[1];Object(r.useEffect)((function(){var e=_[b];P(Object.keys(_)&&b?e.map((function(e){return e.slug})):[]),e&&G(le(e,f))}),[_,b,f]);var J=Object(r.useState)(-1),V=Object(l.a)(J,2),B=V[0],Y=V[1],Q=Object(r.useState)(-1),K=Object(l.a)(Q,2),X=K[0],Z=K[1],$=Object(r.useState)(-1),ee=Object(l.a)($,2),te=ee[0],ne=ee[1],ae=Object(r.useState)(0),se=Object(l.a)(ae,2),ce=se[0],oe=se[1];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"grid grid-flow-row-dense grid-cols-1 lg:grid-cols-4 shadow-sm ".concat(t||""),children:[Object(g.jsx)(W,{title:s("Topic"),options:Object.keys(h),onSelect:function(e,t){d(e),O(Object(L.a)({},e,h[e])),m(""),Y(t),Z(-1),ne(-1),oe(0)},completionRates:w,selectedRow:B}),Object(g.jsx)(W,{title:s("Content"),options:Object.keys(_),onSelect:function(e,t){m(e),O(Object(L.a)({},e,_[e])),Z(t),ne(-1),oe(1)},completionRates:E,selectedRow:X}),Object(g.jsx)(W,{title:s("Exercises"),options:A,className:" lg:col-start-3 lg:col-end-5",onSelect:function(e,t){var n=_[b][t];O(n),ne(t),oe(2)},completionRates:q,selectedRow:te})]}),Object(g.jsx)("div",{className:"py-2",children:a?Object(g.jsx)(re,{offering:1}):Object(g.jsx)(ie,{offering:1,completionRates:[w,E,q][ce]})})]})},je=function(){var e=Object(S.a)().t,t=y(),n=t.user,r=t.removeUser;return Object(g.jsxs)(g.Fragment,{children:[!n&&Object(g.jsx)(o.b,{to:Se.LOGIN,children:e("Login")}),!!n&&Object(g.jsx)(K,{variant:"hidden",onClick:r,children:e("Logout")})]})},be=function(){var e=Object(S.a)().t,t=y().user;return Object(g.jsx)("nav",{className:"py-2 px-4",children:Object(g.jsxs)("ul",{className:"flex items-center",children:[Object(g.jsx)("li",{className:"uppercase font-bold",children:Object(g.jsx)(o.b,{to:"/",children:e("Developer Life")})}),Xe.map((function(n){var r=Ke[n];if(r.permissionTest&&!r.permissionTest(t))return null;var a=r.title;return Object(g.jsx)("li",{className:"ml-4",children:Object(g.jsx)(o.b,{to:n,children:e(a)})},"nav__".concat(n))})),Object(g.jsx)("li",{className:"ml-auto",children:Object(g.jsx)(je,{})})]})})},me=function(){var e=Object(S.a)().t,t=y().user;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(_,{}),Object(g.jsx)(be,{}),Object(g.jsxs)(k,{children:[Object(g.jsx)(R,{children:e("Instructor Dashboard")}),Object(g.jsx)(D,{children:Object(g.jsx)(ue,{className:"mt-4",viewAsStaff:null===t||void 0===t?void 0:t.isStaff})})]})]})},pe=function(){return new URLSearchParams(Object(d.h)().search)},fe=n(33),he=n(26),Oe=n(72),xe=function(e){var t=e.htmlFor,n=e.children;return Object(g.jsx)("label",{htmlFor:t,className:"block text-gray-700 text-sm font-bold mb-1",children:n})},ve=function(e){var t=e.children;return Object(g.jsx)("p",{className:"text-red-500 text-xs italic",children:t})},ge=["error","label","placeholder","inputId","name","type"],we=Object(r.forwardRef)((function(e,t){var n=e.error,r=e.label,a=e.placeholder,s=e.inputId,c=e.name,o=e.type,l=Object(fe.a)(e,ge);return Object(g.jsxs)("div",{className:"mb-4",children:[r&&Object(g.jsx)(xe,{htmlFor:s,children:r}),Object(g.jsx)("input",Object(i.a)({className:"appearance-none border ".concat(n?"border-red-500":"border-gray-300"," rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"),id:s,type:o,name:c,ref:t,placeholder:a||""},l)),n&&Object(g.jsx)(ve,{children:n})]})}));we.defaultProps={type:"text"};var ye=we,Ne=function(e){return Object(g.jsx)("form",Object(i.a)({},e))};Ne.Label=xe,Ne.TextInput=ye;var Se,ke=Ne,_e=n(34),Ce=_e.a().shape({username:_e.b().required(),password:_e.b().required()}),Re=n(45),Te=n.n(Re),Ee={initial:{transition:{staggerChildren:.2}},animate:{transition:{staggerChildren:.2}}},Ie={initial:{y:"0%"},animate:{y:"100%"}},De={duration:.5,repeat:1/0,repeatType:"reverse",ease:"easeInOut"},Le=function(e){var t=e.light,n=e.className,r="".concat(Te.a.loadingDot," ").concat(t?Te.a.light:Te.a.dark);return Object(g.jsx)("div",{className:"".concat(n||""," ").concat(Te.a.animationContainer),children:Object(g.jsxs)(M.a.div,{className:Te.a.dotContainer,variants:Ee,initial:"initial",animate:"animate",children:[Object(g.jsx)(M.a.span,{className:r,variants:Ie,transition:De}),Object(g.jsx)(M.a.span,{className:r,variants:Ie,transition:De}),Object(g.jsx)(M.a.span,{className:r,variants:Ie,transition:De})]})})},Ue=n(161),Me=n.n(Ue),Ae=function(e){var t=e.children;return Object(g.jsx)("div",{className:"uppercase ".concat(Me.a.separator),children:Object(g.jsx)("span",{children:t||""})})},Pe=["onChange"],Fe=["onChange"],We=function(){var e,t,n=Object(r.useRef)(!0);Object(r.useEffect)((function(){return function(){n.current=!1}}),[]);var a=pe().get("reason"),s=Object(r.useState)(!1),c=Object(l.a)(s,2),o=c[0],d=c[1],u=Object(r.useState)(!1),j=Object(l.a)(u,2),b=j[0],m=j[1],p=Object(S.a)().t,h=y().putUser,O=Object(he.d)({resolver:Object(Oe.a)(Ce)}),x=O.register,v=O.handleSubmit,w=O.formState.errors,N=x("username"),k=N.onChange,_=Object(fe.a)(N,Pe),C=x("password"),R=C.onChange,T=Object(fe.a)(C,Fe);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(ke,{onSubmit:v((function(e){m(!0),f(e.username,e.password).then((function(e){n.current&&(e?h(e):d(!0))})).finally((function(){return n.current&&m(!1)}))})),children:[Object(g.jsx)(ke.TextInput,Object(i.a)(Object(i.a)({label:p("Username"),inputId:"username",placeholder:p("Type username")},_),{},{onChange:function(e){d(!1),k(e)},error:p((null===w||void 0===w||null===(e=w.username)||void 0===e?void 0:e.message)||"")})),Object(g.jsx)(ke.TextInput,Object(i.a)(Object(i.a)({label:p("Password"),inputId:"password",type:"password",placeholder:p("Password")},T),{},{onChange:function(e){d(!1),R(e)},error:p((null===w||void 0===w||null===(t=w.password)||void 0===t?void 0:t.message)||"")})),o&&Object(g.jsx)(ve,{children:p("Invalid credentials")}),!!a&&Object(g.jsx)(ve,{children:p(a||"")}),Object(g.jsx)(K,{variant:"secondary",className:"mt-2 w-full",type:"submit",disabled:b,children:p("Sign in")}),b&&Object(g.jsx)("div",{className:"w-full flex justify-center",children:Object(g.jsx)(Le,{className:"text-xs"})})]}),Object(g.jsx)(Ae,{children:p("or")}),Object(g.jsx)("p",{children:p("Ask the instructor to sign you up")})]})},ze=function(e){var t=e.children,n=Object(S.a)().t;return Object(g.jsxs)("div",{className:"w-full min-h-screen px-2 flex flex-col lg:flex-row justify-center lg:justify-around items-center bg-gray-100",children:[Object(g.jsxs)("div",{className:"hidden md:block mb-8 lg:pr-24",children:[Object(g.jsx)("h1",{className:"text-8xl text-primary mb-4",children:"Developer Life"}),Object(g.jsx)("img",{src:"/static/static/img/insper.png",className:"h-16",alt:"Insper Logo"})]}),Object(g.jsxs)("div",{className:"max-w-xs rounded shadow",children:[Object(g.jsx)("h2",{className:"text-3xl uppercase px-6 py-4 bg-primary text-white rounded-t text-center md:hidden",children:n("Developer Life")}),Object(g.jsx)("div",{className:"bg-white px-4 py-4 md:px-6 md:py-6 rounded",children:t})]})]})},He=function(){var e=y(),t=e.user,n=e.removeUser,a=Object(d.g)(),s=pe(),c=s.get("redirectTo"),o=Object(r.useMemo)((function(){return c&&decodeURIComponent(c)}),[c]);return Object(r.useEffect)((function(){if(t)if(s.get("reason"))n();else if(o){var e=o;e+="".concat(e.indexOf("?")>=0?"&":"?","token=").concat(t.token),window.location.href=e}else a.replace(s.get("next")||"/")}),[a,s,t,n,o]),Object(g.jsx)(ze,{children:Object(g.jsx)(We,{})})},qe=_e.a().shape({password:_e.b().required(),passwordConfirmation:_e.b().test("passwords-match","Passwords must match",(function(e){return this.parent.password===e}))}),Ge=["onChange"],Je=["onChange"],Ve=function(e){var t,n,a=e.firstTime,s=e.uid,c=e.token,o=e.reason,u=Object(d.g)(),j=Object(r.useRef)(!0);Object(r.useEffect)((function(){return function(){j.current=!1}}),[]);var b=Object(r.useState)(!1),m=Object(l.a)(b,2),p=m[0],f=m[1],O=Object(S.a)().t,x=Object(he.d)({resolver:Object(Oe.a)(qe)}),v=x.register,w=x.handleSubmit,y=x.formState.errors,N=Object(r.useState)(!1),k=Object(l.a)(N,2),_=k[0],C=k[1],R=v("password"),T=R.onChange,E=Object(fe.a)(R,Ge),I=v("passwordConfirmation"),D=I.onChange,L=Object(fe.a)(I,Je);return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(ke,{onSubmit:w((function(e){f(!0),h(s||"",c||"",e.password,e.passwordConfirmation).then((function(e){e?u.push("/"):C(!0)})).finally((function(){return j.current&&f(!1)}))})),children:[Object(g.jsx)(ke.TextInput,Object(i.a)(Object(i.a)({label:O("Password"),inputId:"password",type:"password",placeholder:O("Password")},E),{},{onChange:T,error:O((null===y||void 0===y||null===(t=y.password)||void 0===t?void 0:t.message)||"")})),Object(g.jsx)(ke.TextInput,Object(i.a)(Object(i.a)({label:O("Repeat password"),inputId:"passwordConfirmation",type:"password",placeholder:O("Password")},L),{},{onChange:D,error:O((null===y||void 0===y||null===(n=y.passwordConfirmation)||void 0===n?void 0:n.message)||"")})),!!o&&Object(g.jsx)(ve,{children:O(o||"")}),_&&Object(g.jsx)(ve,{children:O("Invalid password reset link")}),Object(g.jsx)(K,{variant:"secondary",className:"mt-2 w-full",type:"submit",disabled:p,children:O(a?"Set password":"Reset password")}),p&&Object(g.jsx)("div",{className:"w-full flex justify-center",children:Object(g.jsx)(Le,{className:"text-xs"})})]})})},Be=function(){var e,t=pe(),n=t.get("first"),r=Object(d.h)(),a=null===(e=Object(d.f)(r.pathname,Ke[Se.PASSWORD_RESET].props))||void 0===e?void 0:e.params;return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(ze,{children:Object(g.jsx)(Ve,{firstTime:!!n,uid:null===a||void 0===a?void 0:a.uid,token:null===a||void 0===a?void 0:a.token,reason:t.get("reason")})})})},Ye=function(e){var t=e.children,n=e.className;return Object(g.jsx)("h2",{className:"".concat(n||""," text-2xl text-primary leading-none mt-1"),children:t})},Qe=function(){var e=Object(S.a)().t,t=y().user;return t?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(be,{}),Object(g.jsxs)(k,{className:"max-w-full",children:[Object(g.jsx)(R,{variant:2,children:e("Dashboard")}),Object(g.jsx)(Ye,{children:"".concat(t.firstName," ").concat(null===t||void 0===t?void 0:t.lastName)}),Object(g.jsxs)("section",{className:"my-8",children:[Object(g.jsx)(R,{variant:2,children:e("Exercises")}),Object(g.jsx)(D,{children:Object(g.jsx)(ue,{className:"mt-4"})})]})]})]}):null};!function(e){e.STUDENT_HOME="/",e.INSTRUCTOR_HOME="/instructor",e.LOGIN="/login",e.PASSWORD_RESET="/password-reset/:uid/:token/"}(Se||(Se={}));var Ke={};Ke[Se.STUDENT_HOME]={title:"Student Dashboard",props:{path:Se.STUDENT_HOME,exact:!0,component:Qe}},Ke[Se.INSTRUCTOR_HOME]={title:"Instructor Dashboard",permissionTest:function(e){return!!(null===e||void 0===e?void 0:e.isStaff)},props:{path:Se.INSTRUCTOR_HOME,exact:!0,component:me}},Ke[Se.LOGIN]={title:"Login",props:{path:Se.LOGIN,exact:!0,component:He}},Ke[Se.PASSWORD_RESET]={title:"Password reset",props:{path:Se.PASSWORD_RESET,exact:!0,component:Be}};var Xe=[Se.INSTRUCTOR_HOME],Ze=function(){var e=y().user,t=Object(d.h)();return e||Object(d.f)(t.pathname,Ke[Se.LOGIN].props)||Object(d.f)(t.pathname,Ke[Se.PASSWORD_RESET].props)?null:Object(g.jsx)(d.a,{to:{pathname:Se.LOGIN,search:"?next=".concat(t.pathname)}})},$e=function(e){var t=e.children;return Object(g.jsx)(N,{children:t})},et=n(102),tt=n(54),nt=n(163),rt=n(164);et.a.use(tt.e).init({resources:{en:{translation:nt},pt:{translation:rt}},lng:"pt",fallbackLng:"pt",interpolation:{escapeValue:!1}});et.a;var at=function(){return Object(g.jsx)($e,{children:Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(Ze,{}),Object(g.jsx)("div",{children:Object(g.jsx)(d.d,{children:Object.entries(Ke).map((function(e,t){var n=Object(l.a)(e,2),r=(n[0],n[1].props);return Object(g.jsx)(d.b,Object(i.a)({},r),"route__".concat(t))}))})})]})})},st=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,592)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};c.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(o.a,{children:Object(g.jsx)(at,{})})}),document.getElementById("root")),st()}},[[586,1,2]]]);
//# sourceMappingURL=main.a6aa0d18.chunk.js.map